(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e352a7c"],{"2af4":function(e,t,a){},3793:function(e,t,a){},5307:function(e,t,a){},"59bb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 表单")]),a("el-breadcrumb-item",[e._v("创建简历")])],1)],1),a("div",{staticClass:"container"},[a("el-card",{staticClass:"box-card box-card-left",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"text"},[e._v("基本信息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.updateUserResume("userResume")}}},[e._v("保存")])],1),a("div",{staticClass:"form-box align-center"},[a("el-form",{ref:"userResume",attrs:{"status-icon":"",rules:e.userResumeRules,model:e.userResume,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"头像"}},[a("div",{staticStyle:{width:"50%"}},[a("div",{staticClass:"crop-demo",staticStyle:{display:"inline-block"}},[a("img",{staticClass:"pre-img",attrs:{src:e.cropImg}}),a("div",{staticClass:"crop-demo-btn",staticStyle:{display:"inline-block"}},[e._v("选择图片\n                                    "),a("input",{staticClass:"crop-input",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:e.setImage}})])]),a("el-dialog",{attrs:{title:"裁剪图片",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("vue-cropper",{ref:"cropper",staticStyle:{width:"100%",height:"300px"},attrs:{src:e.imgSrc,ready:e.cropImage,zoom:e.cropImage,cropmove:e.cropImage}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelCrop}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)]),a("el-form-item",{attrs:{label:"姓名",prop:"username"}},[a("el-input",{model:{value:e.userResume.username,callback:function(t){e.$set(e.userResume,"username",t)},expression:"userResume.username"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio-group",{model:{value:e.userResume.gender,callback:function(t){e.$set(e.userResume,"gender",t)},expression:"userResume.gender"}},[a("el-radio",{attrs:{label:"male"}},[e._v("男")]),a("el-radio",{attrs:{label:"female"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"出身日期",prop:"birthday"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.userResume.birthday,callback:function(t){e.$set(e.userResume,"birthday",t)},expression:"userResume.birthday"}})],1)],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.userResume.email,callback:function(t){e.$set(e.userResume,"email",t)},expression:"userResume.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.userResume.mobile,callback:function(t){e.$set(e.userResume,"mobile",t)},expression:"userResume.mobile"}})],1)],1)],1)]),a("el-card",{staticClass:"box-card box-card-left",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"text"},[e._v("求职意向")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.createOrUpdateExpect("expectation")}}},[e._v("保存")])],1),a("div",{staticClass:"form-box align-center"},[a("el-form",{ref:"expectation",attrs:{"status-icon":"",rules:e.expectationRules,model:e.expectation,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位",prop:"job"}},[a("el-input",{model:{value:e.expectation.job,callback:function(t){e.$set(e.expectation,"job",t)},expression:"expectation.job"}})],1),a("el-form-item",{attrs:{label:"城市",prop:"city"}},[a("el-cascader",{attrs:{size:"large",options:e.options},on:{change:e.dealChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),a("el-form-item",{attrs:{label:"到岗时间",prop:"duty_time"}},[a("el-select",{attrs:{placeholder:"请选择到岗时间"},model:{value:e.expectation.duty_time,callback:function(t){e.$set(e.expectation,"duty_time",t)},expression:"expectation.duty_time"}},e._l(e.classification,function(t){return a("el-option",{key:Number(t),attrs:{label:e.dutyTimeChoice[t],value:Number(t)}})}),1)],1),a("el-form-item",{attrs:{label:"薪资范围",prop:"salary_min"}},[a("el-col",{attrs:{span:10}},[e._v(" 最低（K）：\n                            "),a("el-input-number",{attrs:{"controls-position":"right",min:1,max:100},on:{change:e.handleChange},model:{value:e.expectation.salary_min,callback:function(t){e.$set(e.expectation,"salary_min",t)},expression:"expectation.salary_min"}})],1),a("el-col",{staticClass:"line",attrs:{span:1}},[e._v("-")]),a("el-col",{attrs:{span:11}},[e._v(" 最高（K）：\n                            "),a("el-input-number",{attrs:{"controls-position":"right",min:1,max:100},on:{change:e.handleChange},model:{value:e.expectation.salary_max,callback:function(t){e.$set(e.expectation,"salary_max",t)},expression:"expectation.salary_max"}})],1),e._v("\n                          \n                        "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errorVisible,expression:"errorVisible"}],staticStyle:{"font-size":"small",color:"#f02d2d"}},[e._v(e._s(e.error))])],1)],1)],1)]),a("el-card",{staticClass:"box-card box-card-left",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"text"},[e._v("教育背景")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.createEdu}},[e._v("新增")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.saveEdu}},[e._v("保存")])],1),a("Education",{ref:"edu"})],1),a("el-card",{staticClass:"box-card box-card-left",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"text"},[e._v("工作经验")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.createWork}},[e._v("新增")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.saveWork}},[e._v("保存")])],1),a("WorkExperience",{ref:"work"})],1),a("el-card",{staticClass:"box-card box-card-left",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"text"},[e._v("项目经验")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.createProject}},[e._v("新增")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.saveProject}},[e._v("保存")])],1),a("ProjectExperience",{ref:"project"})],1),a("el-card",{staticClass:"box-card box-card-left",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"text"},[e._v("技能特长")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.createSkill}},[e._v("添加")])],1),a("Skills",{ref:"skill"})],1),a("el-card",{staticClass:"box-card box-card-left",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"text"},[e._v("自我评价")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.updateSelfAppraise}},[e._v("保存")])],1),a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:10},placeholder:"请输入内容",maxlength:"500"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),a("el-button",{staticClass:"handle-create",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.saveAll}},[e._v("保存所有")]),e._v("\n            \n        "),a("el-button",{staticClass:"handle-create",staticStyle:{"margin-right":"20px"},attrs:{icon:"el-icon-back"},on:{click:e.back}},[e._v("返回")])],1)])},s=[],r=(a("ac6a"),a("456d"),a("34ef"),a("4917"),a("28a5"),a("a481"),a("7f7f"),a("6762"),a("2fdb"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.education,function(t){return a("el-collapse-item",{key:t.id,attrs:{name:t.graduate_school}},[a("template",{slot:"title"},[a("span",{staticStyle:{width:"90%"}},[a("i",{staticClass:"header-icon el-icon-arrow-right"}),a("span",{staticClass:"tform"},[e._v(e._s(t.graduate_school))])]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.deleteThisEducation(t.id)}}},[e._v("删除")])],1),a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",refInFor:!0,attrs:{rules:e.rules,model:t,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"时期",prop:"enrollment_date"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"入学日期"},on:{change:function(a){return e.dateChange(t.id)}},model:{value:t.enrollment_date,callback:function(a){e.$set(t,"enrollment_date",a)},expression:"item.enrollment_date"}})],1),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"毕业日期"},on:{change:function(a){return e.dateChange(t.id)}},model:{value:t.graduate_date,callback:function(a){e.$set(t,"graduate_date",a)},expression:"item.graduate_date"}})],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"item.error"}],staticStyle:{"font-size":"small",color:"#f02d2d"}},[e._v("入学日期不可大于毕业日期")])],1),a("el-form-item",{attrs:{label:"毕业院校",prop:"graduate_school"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:t.graduate_school,callback:function(a){e.$set(t,"graduate_school",a)},expression:"item.graduate_school"}})],1),a("el-form-item",{attrs:{label:"专业",prop:"subjects"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:t.subjects,callback:function(a){e.$set(t,"subjects",a)},expression:"item.subjects"}})],1),a("el-form-item",{attrs:{label:"课程描述",prop:"emphasize"}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:"3"},model:{value:t.emphasize,callback:function(a){e.$set(t,"emphasize",a)},expression:"item.emphasize"}})],1)],1)],1)],2)}),1)],1)}),l=[],n=(a("20d6"),a("1db3")),o=a("7b09"),c=a("2b0e"),u={name:"Education",data:function(){return{value1:[],activeNames:["1"],education:[],resumeId:"",error:!1,rules:{graduate_school:[{max:20,message:"长度在 20 个字符之内"}],subjects:[{max:100,message:"长度在 100 个字符之内"}],emphasize:[{max:100,message:"长度在 100 个字符之内"}]}}},computed:{},methods:{handleChange:function(e){},getAllEducation:function(){var e=this;Object(n["n"])({resumeId:this.resumeId}).then(function(t){e.education=t.data}).catch(function(e){})},deleteThisEducation:function(e){var t=this,a=this.education.findIndex(function(t){return t.id===e});Object(n["i"])(e,{}).then(function(e){t.education.splice(a,1)}).catch(function(e){})},createEducation:function(){var e=this;Object(n["b"])({resume_id:this.resumeId}).then(function(t){e.education.push(t.data)}).catch(function(e){})},saveEducations:function(){this.error||Object(n["D"])(this.resumeId,this.education).then(function(e){}).catch(function(e){})},dateChange:function(e){var t=this.education.findIndex(function(t){return t.id===e});this.education[t].graduate_date<this.education[t].enrollment_date?(c["default"].set(this.education[t],"error",!0),this.error=!0):(c["default"].set(this.education[t],"error",!1),this.error=!1)}},created:function(){},activated:function(){},mounted:function(){this.resumeId=o["a"].getCookie("resumeId"),this.getAllEducation()}},d=u,m=(a("e652"),a("2877")),p=Object(m["a"])(d,r,l,!1,null,"6667896e",null),f=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.workExperience,function(t){return a("el-collapse-item",{key:t.id,attrs:{name:"item.id"}},[a("template",{slot:"title"},[a("span",{staticStyle:{width:"90%"}},[a("i",{staticClass:"header-icon el-icon-arrow-right"}),a("span",{staticClass:"tform"},[e._v(e._s(t.company))])]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.deleteThisExperience(t.id)}}},[e._v("删除")])],1),a("div",{staticClass:"form-box"},[a("el-form",{ref:"item",refInFor:!0,attrs:{rules:e.rules,model:t,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"企业名称",prop:"company"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:t.company,callback:function(a){e.$set(t,"company",a)},expression:"item.company"}})],1),a("el-form-item",{attrs:{label:"时期"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"开始时间"},on:{change:function(a){return e.dateChange(t.id)}},model:{value:t.start_time,callback:function(a){e.$set(t,"start_time",a)},expression:"item.start_time"}})],1),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"结束时间"},on:{change:function(a){return e.dateChange(t.id)}},model:{value:t.end_time,callback:function(a){e.$set(t,"end_time",a)},expression:"item.end_time"}})],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"item.error"}],staticStyle:{"font-size":"small",color:"#f02d2d"}},[e._v("起始日期不可大于结束日期")])],1),a("el-form-item",{attrs:{label:"任职部门",prop:"department"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:t.department,callback:function(a){e.$set(t,"department",a)},expression:"item.department"}})],1),a("el-form-item",{attrs:{label:"任职岗位",prop:"profession"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:t.profession,callback:function(a){e.$set(t,"profession",a)},expression:"item.profession"}})],1),a("el-form-item",{attrs:{label:"岗位职责",prop:"duty"}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:"3"},model:{value:t.duty,callback:function(a){e.$set(t,"duty",a)},expression:"item.duty"}})],1)],1)],1)],2)}),1)],1)},v=[],x={name:"WorkExperience",data:function(){return{activeNames:["1"],workExperience:[],rules:{company:[{max:20,message:"长度在 20 个字符之内"}],profession:[{max:100,message:"长度在 100 个字符之内"}],department:[{max:100,message:"长度在 100 个字符之内"}],duty:[{max:100,message:"长度在 100 个字符之内"}]},error:!1}},methods:{handleChange:function(e){},getAllWorkExperience:function(){var e=this;Object(n["r"])({resumeId:this.resumeId}).then(function(t){e.workExperience=t.data}).catch(function(e){})},deleteThisExperience:function(e){var t=this,a=this.workExperience.findIndex(function(t){return t.id===e});Object(n["m"])(e,{}).then(function(e){t.workExperience.splice(a,1)}).catch(function(e){})},createWorkExperience:function(){var e=this;Object(n["h"])({resume_id:this.resumeId}).then(function(t){e.workExperience.push(t.data)}).catch(function(e){})},saveWorkExperience:function(){this.error||Object(n["K"])(this.resumeId,this.workExperience).then(function(e){}).catch(function(e){})},dateChange:function(e){var t=this.workExperience.findIndex(function(t){return t.id===e});this.workExperience[t].end_time<this.workExperience[t].start_time?(c["default"].set(this.workExperience[t],"error",!0),this.error=!0):(c["default"].set(this.workExperience[t],"error",!1),this.error=!1)}},mounted:function(){this.resumeId=o["a"].getCookie("resumeId"),this.getAllWorkExperience()}},b=x,g=(a("717c"),Object(m["a"])(b,h,v,!1,null,"1273c854",null)),k=g.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.projectExperience,function(t){return a("el-collapse-item",{key:t.id,attrs:{name:"item.id"}},[a("template",{slot:"title"},[a("span",{staticStyle:{width:"90%"}},[a("i",{staticClass:"header-icon el-icon-arrow-right"}),a("span",{staticClass:"tform"},[e._v(e._s(t.project_name))])]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.deleteThisProject(t.id)}}},[e._v("删除")])],1),a("div",{staticClass:"form-box"},[a("el-form",{ref:"item",refInFor:!0,attrs:{rules:e.rules,model:t,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"时期"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"开始时间"},on:{change:function(a){return e.dateChange(t.id)}},model:{value:t.start_time,callback:function(a){e.$set(t,"start_time",a)},expression:"item.start_time"}})],1),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"结束时间"},on:{change:function(a){return e.dateChange(t.id)}},model:{value:t.end_time,callback:function(a){e.$set(t,"end_time",a)},expression:"item.end_time"}})],1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"item.error"}],staticStyle:{"font-size":"small",color:"#f02d2d"}},[e._v("起始日期不可大于结束日期")])],1),a("el-form-item",{attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{maxlength:"30"},model:{value:t.project_name,callback:function(a){e.$set(t,"project_name",a)},expression:"item.project_name"}})],1),a("el-form-item",{attrs:{label:"技术使用",prop:"project_skills"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:t.project_skills,callback:function(a){e.$set(t,"project_skills",a)},expression:"item.project_skills"}})],1),a("el-form-item",{attrs:{label:"项目职责",prop:"tasks"}},[a("el-input",{attrs:{maxlength:"1000",type:"textarea",rows:"3"},model:{value:t.tasks,callback:function(a){e.$set(t,"tasks",a)},expression:"item.tasks"}})],1)],1)],1)],2)}),1)],1)},y=[],C={name:"ProjectExperience",data:function(){return{activeNames:["1"],resumeId:"",projectExperience:[],rules:{project_name:[{max:30,message:"长度在 30 个字符之内"}],project_skills:[{max:100,message:"长度在 100 个字符之内"}],tasks:[{max:1e3,message:"长度在 1000 个字符之内"}]},error:!1}},methods:{handleChange:function(e){},getAllProjectExperience:function(){var e=this;Object(n["o"])({resumeId:this.resumeId}).then(function(t){e.projectExperience=t.data}).catch(function(e){})},saveProjectExperience:function(){this.error||Object(n["F"])(this.resumeId,this.projectExperience).then(function(e){}).catch(function(e){})},deleteThisProject:function(e){var t=this,a=this.projectExperience.findIndex(function(t){return t.id===e});Object(n["j"])(e,{}).then(function(e){t.projectExperience.splice(a,1)}).catch(function(e){})},dateChange:function(e){var t=this.projectExperience.findIndex(function(t){return t.id===e});this.projectExperience[t].end_time<this.projectExperience[t].start_time?(c["default"].set(this.projectExperience[t],"error",!0),this.error=!0):(c["default"].set(this.projectExperience[t],"error",!1),this.error=!1)},createProjectExperience:function(){var e=this;Object(n["d"])({resume_id:this.resumeId}).then(function(t){e.projectExperience.push(t.data)}).catch(function(e){})}},mounted:function(){this.resumeId=o["a"].getCookie("resumeId"),this.getAllProjectExperience()}},w=C,j=(a("9b39"),Object(m["a"])(w,_,y,!1,null,"e0b1732a",null)),E=j.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.data,function(t){var i=t[0],s=t[1];return a("el-collapse-item",{key:i,attrs:{name:"key"}},[a("template",{slot:"title"},[a("span",{staticStyle:{width:"95%"}},[a("i",{staticClass:"header-icon el-icon-arrow-right"}),a("span",{staticClass:"tform"},[e._v(e._s(e.tecnology[i]))])]),a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(t){return e.showForm(i)}}},[e._v("添加")]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteThisCategory(i)}}},[e._v("删除")])],1),e._l(s,function(t){return a("div",{staticClass:"e-rate"},[a("el-input",{staticStyle:{width:"70%"},attrs:{disabled:!0,placeholder:"请输入内容"},model:{value:t.skill_desc,callback:function(a){e.$set(t,"skill_desc",a)},expression:"skill.skill_desc"}},[a("template",{slot:"prepend"},[e._v(e._s(t.skill_tag))])],2),e._v("\n                   \n                "),a("el-rate",{staticClass:"e-rate",attrs:{disabled:!0,"show-text":"",max:4,texts:e.texts},model:{value:t.skill_level,callback:function(a){e.$set(t,"skill_level",a)},expression:"skill.skill_level"}}),e._v("\n                    \n                "),a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.showUpdateSkills(t.id)}}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.deleteThisSkill(t.id)}}},[e._v("删除\n                ")])],1)})],2)}),1),a("el-dialog",{attrs:{title:"update"===e.createOrUpdate?"更新技能特长":"创建技能特长",visible:e.createVisible,width:"30%"},on:{"update:visible":function(t){e.createVisible=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"技能分类",prop:"category"}},[a("el-select",{attrs:{placeholder:"请选择技能类别"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.classification,function(t){return a("el-option",{key:Number(t),attrs:{label:e.tecnology[t],value:Number(t)}})}),1)],1),a("el-form-item",{attrs:{label:"标签",prop:"skill_tag"}},[a("el-input",{attrs:{maxlength:"20",placeholder:"请输入标签"},model:{value:e.form.skill_tag,callback:function(t){e.$set(e.form,"skill_tag",t)},expression:"form.skill_tag"}})],1),a("el-form-item",{attrs:{label:"技能描述",prop:"skill_desc"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入技能描述"},model:{value:e.form.skill_desc,callback:function(t){e.$set(e.form,"skill_desc",t)},expression:"form.skill_desc"}})],1),a("el-form-item",{attrs:{label:"熟悉程度",prop:"skill_level"}},[a("el-rate",{staticClass:"e-rate",attrs:{"show-text":"",max:4,texts:e.texts},model:{value:e.form.skill_level,callback:function(t){e.$set(e.form,"skill_level",t)},expression:"form.skill_level"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createOrUpdateSkills("form")}}},[e._v("确 定")])],1)],1)],1)},S=[],$=(a("c5f6"),a("04ff"),a("5df3"),a("f400"),a("7514"),{name:"Skills",data:function(){return{resumeId:"",activeNames:["1"],skills:[{id:1,skill_tag:"Vue",skill_desc:"熟悉Vue",skill_level:2,category:1,resume_id:1},{id:2,skill_tag:"Angular",skill_desc:"了解Angular",skill_level:1,category:1,resume_id:1},{id:3,skill_tag:"Django",skill_desc:"熟悉Django",skill_level:2,category:3,resume_id:1}],form:{id:"",skill_tag:"Django",skill_desc:"熟悉Django",skill_level:2,category:"",resume_id:""},rules:{skill_tag:[{max:20,message:"长度在 20 个字符之内"}],skill_desc:[{max:50,message:"长度在 50 个字符之内"}]},tecnology:{1:"前端",3:"后端",4:"数据库",5:"语言"},level:{1:"了解",2:"熟练",3:"精通",4:"大牛"},texts:["了解","熟练","精通","大牛"],createVisible:!1,createOrUpdate:""}},methods:{handleChange:function(e){},getAllSkills:function(){var e=this;Object(n["p"])({resumeId:this.resumeId}).then(function(t){e.skills=t.data}).catch(function(e){})},deleteThisSkill:function(e){var t=this,a=this.skills.findIndex(function(t){return t.id===e});Object(n["k"])(e,{}).then(function(e){t.skills.splice(a,1)}).catch(function(e){})},deleteThisCategory:function(e){var t=this,a=this.skills.find(function(t){return t.category===e});Object(n["k"])(a.id,{category:e,resumeId:this.resumeId}).then(function(a){t.clearSkills(e)}).catch(function(e){})},showForm:function(e){this.form.category=e,this.createVisible=!0,this.createOrUpdate="create"},showUpdateSkills:function(e){var t=this.skills.find(function(t){return t.id===e});this.form=t,this.createVisible=!0,this.createOrUpdate="update"},createOrUpdateSkills:function(e){"update"===this.createOrUpdate?this.updateSkills():"create"===this.createOrUpdate&&this.createSkills(e)},createSkills:function(e){var t=this;this.form.resume_id=this.resumeId,this.$refs[e].validate(function(e){e&&Object(n["f"])(t.form).then(function(e){t.skills.push(e.data),t.createVisible=!1}).catch(function(e){})})},updateSkills:function(){var e=this;this.skills.find(function(t){return t.id===e.form.id});Object(n["H"])(this.form.id,this.form).then(function(t){t.data,e.createVisible=!1}).catch(function(e){})},clearSkills:function(e){while(1){var t=this.skills.findIndex(function(t){return t.category===e});if(-1===t)break;this.skills.splice(t,1)}}},computed:{data:function(){var e=new Map;return this.skills.forEach(function(t,a){var i=Number.parseInt(t.category);e.has(i)||e.set(i,[]),e.get(i).push(t)}),e},rate:{get:function(){return function(e){var t=new Map([["1","了解"],["2","熟练"],["3","精通"],["4","大牛"]]);return t.get(e)}},set:function(e){}},classification:function(){return Object.keys(this.tecnology)}},mounted:function(){this.resumeId=o["a"].getCookie("resumeId"),this.getAllSkills()}}),O=$,R=(a("6612"),Object(m["a"])(O,I,S,!1,null,"28be0a9b",null)),N=R.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.data,function(t){var i=t[0],s=t[1];return a("el-collapse-item",{key:i,attrs:{name:"key"}},[a("template",{slot:"title"},[a("span",{staticStyle:{width:"95%"}},[a("i",{staticClass:"header-icon el-icon-arrow-right"}),a("span",{staticClass:"tform"},[e._v(e._s(e.tecnology[i]))])]),a("el-button",{attrs:{type:"text",icon:"el-icon-plus"}},[e._v("添加")]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"}},[e._v("删除")])],1),e._l(s,function(t){return a("div",{staticClass:"e-rate"},[a("el-input",{staticStyle:{width:"70%"},attrs:{disabled:"true",placeholder:"请输入内容"},model:{value:t.skill_desc,callback:function(a){e.$set(t,"skill_desc",a)},expression:"skill.skill_desc"}},[a("template",{slot:"prepend"},[e._v(e._s(t.skill_tag))])],2),e._v("\n                   \n                "),a("el-rate",{staticClass:"e-rate",attrs:{disabled:"true","show-text":"",max:4,texts:e.texts},model:{value:t.skill_level,callback:function(a){e.$set(t,"skill_level",a)},expression:"skill.skill_level"}}),e._v("\n                    \n                "),a("el-button",{attrs:{type:"text",icon:"el-icon-edit"}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"}},[e._v("删除")])],1)})],2)}),1)],1)},A=[],U={name:"SelfAppraise",data:function(){return{activeNames:["1"]}},methods:{handleChange:function(e){console.log("this.data",this.data)}},computed:{data:function(){var e=new Map;return this.skills.forEach(function(t,a){var i=Number.parseInt(t.category);e.has(i)||e.set(i,[]),e.get(i).push(t)}),e},rate:{get:function(){return function(e){var t=new Map([["1","了解"],["2","熟练"],["3","精通"],["4","大牛"]]);return t.get(e)}},set:function(e){}}}},M=U,P=(a("be8b"),Object(m["a"])(M,V,A,!1,null,"032205fd",null)),F=P.exports,D=a("9998"),W=a("ef6c"),z=a("95c3"),T=a.n(z),q={name:"createResume",data:function(){return{resumeId:"",errorVisible:!1,error:"",editVisible:!1,textarea:"",options:W["provinceAndCityData"],selectedOptions:[],userResume:{username:"",mobile:"",email:"",gender:"",birthday:"",portrait:""},userResumeRules:{username:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:D["a"].isMobile,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{validator:D["a"].isEmail,trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生年月",trigger:"blur"}]},activeNames:["1"],expectationRules:{job:[{required:!0,message:"请输入姓名",trigger:"blur"}],salary_min:[{validator:D["a"].isInteger,trigger:"blur"}],salary_max:[{validator:D["a"].isInteger,trigger:"blur"}]},expectation:{job:"",province:"",city:"",salary_min:"",salary_max:"",duty_time:""},createFlag:!1,dutyTimeChoice:{1:"一个月内到岗",2:"两个月内到岗",3:"一周内到岗"},defaultSrc:"",fileList:[],imgSrc:"",cropImg:"",dialogVisible:!1,file:""}},methods:{onSubmit:function(){this.$message.success("提交成功！")},saveEdit:function(){if(this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.tableData[this.idx].id===this.id)this.$set(this.tableData,this.idx,this.form);else for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id===this.id)return void this.$set(this.tableData,e,this.form)},handleChange:function(e){this.expectation.salary_min>this.expectation.salary_max?(this.errorVisible=!0,this.error="最低工资不能高于最高工资"):(this.errorVisible=!1,this.error="")},dealChange:function(e){this.expectation.province=e[0],this.expectation.city=e[1]},getResumeInfo:function(){var e=this;this.resumeId=o["a"].getCookie("resumeId"),Object(n["z"])(this.resumeId).then(function(t){e.userResume=t.data,e.cropImg=e.userResume.portrait}).catch(function(e){console.log(e)})},getExpectation:function(){var e=this;this.expectation["resume_id"]=this.resumeId;var t=this;Object(n["u"])(this.resumeId).then(function(t){e.expectation=t.data,e.selectedOptions=[e.expectation.province,e.expectation.city]}).catch(function(e){e.detail.includes("Not found.")&&(console.log(t),t.createFlag=!0)})},createOrUpdateExpect:function(e){this.createFlag?this.createExpectation(e):this.updateExpectation(e)},updateExpectation:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(n["E"])(t.resumeId,t.expectation).then(function(e){}).catch(function(e){console.log(e)})})},createExpectation:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.expectation.resume_id=t.resumeId,Object(n["c"])(t.expectation).then(function(e){t.createFlag=!1}).catch(function(e){})})},updateUserResume:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=new FormData;for(var i in t.userResume)a.append(i,t.userResume[i]);if(""===t.imgSrc)a.delete("portrait");else{var s=t.imgSrc?t.imgSrc:t.cropImg;t.dataURLtoFile(s,t.file.name),a.set("portrait",t.file)}Object(n["J"])(t.resumeId,a).then(function(e){}).catch(function(e){console.log(e)})})},createEdu:function(){this.$refs.edu.createEducation()},saveEdu:function(){this.$refs.edu.saveEducations()},saveWork:function(){this.$refs.work.saveWorkExperience()},createWork:function(){this.$refs.work.createWorkExperience()},saveProject:function(){this.$refs.project.saveProjectExperience()},createProject:function(){this.$refs.project.createProjectExperience()},createSkill:function(){this.$refs.skill.createOrUpdate="create",this.$refs.skill.createVisible=!0},getSelfAppraise:function(){var e=this;Object(n["w"])(this.resumeId).then(function(t){e.textarea=t.data.self_desc}).catch(function(e){})},updateSelfAppraise:function(){var e=this;Object(n["G"])(this.resumeId,{resume_id:this.resumeId,self_desc:this.textarea}).then(function(t){e.textarea=t.data.self_desc}).catch(function(e){})},back:function(){this.$router.push({path:"../myResume",params:{}})},saveAll:function(){this.updateUserResume("userResume"),this.createOrUpdateExpect("expectation"),this.saveEdu(),this.saveWork(),this.saveProject(),this.updateSelfAppraise(),this.successMessage()},successMessage:function(){this.$message({message:"恭喜你，这是一条成功消息",type:"success"})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},setImage:function(e){var t=this,a=e.target.files[0];if(this.file=a,a.type.includes("image/")){var i=new FileReader;i.onload=function(e){t.dialogVisible=!0,t.imgSrc=e.target.result,t.$refs.cropper&&t.$refs.cropper.replace(e.target.result)},i.readAsDataURL(a)}},cropImage:function(){this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL()},cancelCrop:function(){this.dialogVisible=!1,this.cropImg=this.defaultSrc},imageuploaded:function(e){},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传接口上传失败，可更改为自己的服务器接口"})},dataURLtoFile:function(e,t){var a=e.split(","),i=a[0].match(/:(.*?);/)[1],s=atob(a[1]),r=s.length,l=new Uint8Array(r);while(r--)l[r]=s.charCodeAt(r);return new File([l],t,{type:i})}},computed:{classification:function(){return Object.keys(this.dutyTimeChoice)}},components:{Education:f,WorkExperience:k,ProjectExperience:E,Skills:N,SelfAppraise:F,VueCropper:T.a},created:function(){},activated:function(){},mounted:function(){this.cropImg=this.defaultSrc,this.getResumeInfo(),this.getExpectation(),this.getSelfAppraise()}},L=q,J=(a("78e2"),Object(m["a"])(L,i,s,!1,null,"507b6c16",null));t["default"]=J.exports},6612:function(e,t,a){"use strict";var i=a("5307"),s=a.n(i);s.a},"717c":function(e,t,a){"use strict";var i=a("fa57"),s=a.n(i);s.a},"78e2":function(e,t,a){"use strict";var i=a("3793"),s=a.n(i);s.a},"8a5cd":function(e,t,a){},"9b39":function(e,t,a){"use strict";var i=a("8a5cd"),s=a.n(i);s.a},be8b:function(e,t,a){"use strict";var i=a("2af4"),s=a.n(i);s.a},e652:function(e,t,a){"use strict";var i=a("fcaa"),s=a.n(i);s.a},fa57:function(e,t,a){},fcaa:function(e,t,a){}}]);